2023年2月～4月に開催されたSignateのBlueCarbonコンペで70位（391チーム中）となった。その解法をまとめる。
https://signate.jp/competitions/936

# 特徴抽出
以下の特徴抽出を実施した。
- cover測定月の平均気温
- Sentinel衛星画像データのMAXとMINの差をとったもの
- Landsat衛星画像データの年ごとの各データの中央値（MED_○○）において、clippingでの外れ値除去と標準化を行い、2000～2020年における中央値と標準偏差を算出
- cover取得時のLandsat衛星画像データを、その年のLandsat衛星画像データで標準化したもの
- Landsat衛星画像データの年ごとの各データにおいて、clippingでの外れ値除去を行い、MAXとMINの差をとり、その値の2000～2020年における平均値と標準偏差を算出
- cover取得日とLandsat衛星画像データ取得日の乖離日数

# 使用した説明変数
上記特徴抽出した値と、被度文献データ、海洋環境要因データ、Sentinelの生データ（MEDのみ）を使用した。また、以下は説明変数から削除した。
- Landsatのあまり関係なさそうな指標に由来する特徴量（NBRとか）
- 説明変数間で相関が高すぎる場合（相関係数が0.98以上）のどちらかの変数

# モデリング
- LightGBMを使用
- coverを対数変換した値を目的変数に使用
- Optunaでパラメータ調整
- バリデーションは5foldの交差検証を行った。その際にできた5つのモデルでtestデータも予測を行い、アンサンブルした値を提出データのベースとした。

# 後処理
Leaderboard ProvingでPublic LBのテストデータのcoverの平均値が分かっていたため、上記で作成した提出データの値がこの平均値に近づくよう補正を入れた。

# その他試したこと
- UMAPでの次元削減
- 目的変数の傾向が大きく異なる2019年のデータとそれ以外のデータでそれぞれモデリングを行う

# 所感
- 特徴抽出をいろいろやったが、あまりスコアの改善が見られなかった。Sentinel衛星画像データの特徴抽出ではPublic LBスコアの改善が見られたが、そのほかの特徴抽出はスコアが改善せず、やる気がどんどん萎えていった。
- そもそもCVスコアとPublic LBスコアの相関がみられず、モデルが改善していることを何をベースに判断すればいいかわからなかった。また、2019年とそれ以外のデータで目的変数の傾向が大きく異なっていたが、それに対するロバストなモデリングも思いつかなかった。
- 結局一番スコアに効いたのはLeaderboard Provingをもとにした予測値の補正だった。（補正前0.2116⇒補正後0.1824）
